---
layout: post
title: "Starrydata2 v2.6.0: "
date:   2025-02-07 17:00:00 +0900
author: "Tomoya Mato"
categories: []
committers:
  - name: "Tomoya Mato"
    url: "https://github.com/t29mato"
  - name: "Yu Takada"
    url: "https://github.com/yu-smc"
---

## 新機能

### 1. サマリー画面で選択したグラフの点を直接Visualizer上に描画

従来、Visualizerは1日2回のバッチ処理で更新される仕組みだったため、登録したデータはすぐに反映されませんでした。今回、VisualizerとStarryData2を連携することで、最新データを即時に閲覧できるようになりました。これにより、データ収集後に他の大規模データと比較検証が可能となり、単位の誤りの発見やデータ特性の把握が容易になります。

<img src="/assets/starrydata2/v2.6.0/summary-to-visualizer.gif" >

---

### 2. Figure一覧・サンプル一覧でのIDによるソート機能の実装

[v2.5.0](https://docs.starrydata.org/changes/starrydata2/v2.5.0/)から自然順ソートに変更していましたが、データ収集状況によっては登録順での表示が必要なケースも存在しました。そこで、表のヘッダー部分（Figure ID、Figure Name、Sample ID、Sample Name、Composition）をクリックすることでソートが実施できるように機能を追加しました。

<img src="/assets/starrydata2/v2.6.0/soft-table.gif" width=600>

---

## 軽微な修正

### 1. 論文検索のUI改善

- **検索キーワードのトリム機能**
  入力文字列の先頭および末尾にある改行や半角スペースを自動で削除することで、期待通りの検索結果が得られるようになりました。

  <table style="border-collapse: collapse;">
    <thead>
      <tr>
        <th style="vertical-align: top;">Before</th>
        <th style="vertical-align: top;">After</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td style="vertical-align: top;">
          <img src="/assets/starrydata2/v2.6.0/search-with-line-break-before.png" width="400">
        </td>
        <td style="vertical-align: top;">
          <img src="/assets/starrydata2/v2.6.0/search-with-line-break-after.png" width="400">
        </td>
      </tr>
    </tbody>
  </table>

- **検索結果がない場合の表示改善**
  検索結果が存在しない場合、従来は何も表示されなかった部分を「No Result」と表示するように変更しました。

  <table style="border-collapse: collapse;">
    <thead>
      <tr>
        <th style="vertical-align: top;">Before</th>
        <th style="vertical-align: top;">After</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td style="vertical-align: top;">
          <img src="/assets/starrydata2/v2.6.0/show-nothing.png" width="400">
        </td>
        <td style="vertical-align: top;">
          <img src="/assets/starrydata2/v2.6.0/show-no-result.png" width="400">
        </td>
      </tr>
    </tbody>
  </table>

---

### 2. グラフのデータ点のHover時のXY値表示精度の改善

従来は、グラフ上のデータ点にマウスをホバーすると小数点第4位で四捨五入され、5桁目が4以下の場合は0として表示されていました。今回の修正により、有効数字6桁で正確な数値が表示されるようになりました。

<table style="border-collapse: collapse;">
  <thead>
    <tr>
      <th style="vertical-align: top;">Before</th>
      <th style="vertical-align: top;">After</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="vertical-align: top;">
        <img src="/assets/starrydata2/v2.6.0/hover-value-before.png" width="400">
      </td>
      <td style="vertical-align: top;">
        <img src="/assets/starrydata2/v2.6.0/hover-value-after.png" width="400">
      </td>
    </tr>
  </tbody>
</table>

---

### 3. [データ入力画面] 10^0において指数が空の場合のSaveボタン押下エラー修正

従来、10^0の乗数が空の状態でSaveボタンを押下するとエラーが発生していました。今回の修正では、指数が空の場合はその値を無視するように変更し、エラーが発生しないように対応しました。また、空の場合は「10^」の文字をグレー表示にすることで、直感的に状況が把握できるよう改善しました。

<img src="/assets/starrydata2/v2.6.0/multiplier-ui-improvement.gif" width=300>

---

以上が、v2.6.0での新機能および修正内容となります。今後もユーザビリティ向上のため、改善を続けてまいります。
