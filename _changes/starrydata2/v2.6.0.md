---
layout: post
title: "Starrydata2 v2.6.0: "
date:   2025-02-07 17:00:00 +0900
author: "Tomoya Mato"
categories: []
committers:
  - name: "Tomoya Mato"
    url: "https://github.com/t29mato"
  - name: "Yu Takada"
    url: "https://github.com/yu-smc"
---

## サマリー画面から選択したグラフの点を、直接Visualizer上に描画。
Visualizerは仕組みとして、1日2回、バッチ処理を行い更新していたため、登録したばかりのデータをVisualizerで閲覧することができませんでした。
しかし、VisualizerとStarrydata2を連携させることで、最新のデータを閲覧できるようにしました。これによってデータ収集後に他の大規模データと比較することができ、明らかな単位間違いに気づいたり、そのデータの特性をより把握しやすくなります。

<img src="/assets/starrydata2/v2.6.0/summary-to-visualizer.gif" >

## Figure一覧とサンプル一覧でIDによるソート機能を実装

v2.5.0で自然順ソートに変更しましたが、データ収集によっては、登録順で見たい場合があります。そのため、表頭のカラム名にカーソルクリックでsortを実施できるようにしました。
対象になるのは、Figure ID, Figure name , Sample ID,Sample name,	Compositionの５つです。

<img src="/assets/starrydata2/v2.6.0/soft-table.gif" width=600>



# 軽微な修正

## 論文検索のUI改善

文字列の最初と最後にある改行や半角スペースがあってもtrimすることで期待通りの検索結果に。

<table style="border-collapse: collapse;">
  <thead>
    <tr>
      <th style="vertical-align: top;">Before</th>
      <th style="vertical-align: top;">After</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="vertical-align: top;">
        <img src="/assets/starrydata2/v2.6.0/search-with-line-break-before.png" width="400">
      </td>
      <td style="vertical-align: top;">
        <img src="/assets/starrydata2/v2.6.0/search-with-line-break-after.png" width="400">
      </td>
    </tr>
  </tbody>
</table>

検索結果がない場合は「No Result」と表示

<table style="border-collapse: collapse;">
  <thead>
    <tr>
      <th style="vertical-align: top;">Before</th>
      <th style="vertical-align: top;">After</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="vertical-align: top;">
        <img src="/assets/starrydata2/v2.6.0/show-nothing.png" width="400">
      </td>
      <td style="vertical-align: top;">
        <img src="/assets/starrydata2/v2.6.0/show-no-result.png" width="400">
      </td>
    </tr>
  </tbody>
</table>

## グラフのデータ点のHover時のXY値の表示精度の改善

小数点第四桁で四捨五入が行われるため、5桁目が4以下の場合は0になっていたのを、有効数字6桁表示するように修正

<table style="border-collapse: collapse;">
  <thead>
    <tr>
      <th style="vertical-align: top;">Before</th>
      <th style="vertical-align: top;">After</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="vertical-align: top;">
        <img src="/assets/starrydata2/v2.6.0/hover-value-before.png" width="400">
      </td>
      <td style="vertical-align: top;">
        <img src="/assets/starrydata2/v2.6.0/hover-value-after.png" width="400">
      </td>
    </tr>
  </tbody>
</table>




## [データ入力画面] 10^0において指数が空の状態でSaveボタン押下でエラーになる

これまでは、10^0の乗数が空の時にSaveボタン押下でエラーになっていましたが、空の場合は利用しないということでエラーにならないように修正しました。
また、空の時に利用していないということがわかりやすくするために、空の時は「10^」の文字をグレーにすることで直感的にしました。

<img src="/assets/starrydata2/v2.6.0/multiplier-ui-improvement.gif" width=300>
